AWSTemplateFormatVersion: '2010-09-09'
Resources:
  VPC1:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock: '10.0.0.0/16'
      Tags:
          Key: Name
          Value: VPC1
  VPC2:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock: '10.1.0.0/16'
      Tags:
          Key: Name
          Value: VPC2
  VPC3:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock: '10.2.0.0/16'
      Tags:
          Key: Name
          Value: VPC3
  Subnet1:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref VPC1
      CidrBlock: '10.0.1.0/24'
      AvailabilityZone: us-east-1a
      Tags:
          Key: Name
          Value: Subnet1
  Subnet2:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref VPC2
      CidrBlock: '10.1.1.0/24'
      AvailabilityZone: us-east-1b
      Tags:
          Key: Name
          Value: Subnet2
  Subnet3:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref VPC3
      CidrBlock: '10.2.1.0/24'
      AvailabilityZone: us-east-1c
      Tags:
          Key: Name
          Value: Subnet3
  SecurityGroup1:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: 'Security Group for EC2 instance in VPC1'
      VpcId: !Ref VPC1
  SecurityGroup2:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: 'Security Group